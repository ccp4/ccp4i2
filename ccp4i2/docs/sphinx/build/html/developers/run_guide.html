
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="#00020a">
  <script src="../_static/javascripts/modernizr.js"></script>
  
  
  
    <title>Developers Guide to Working with CCP4i2 &#8212; CCP4i2  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/material.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../_static/contentui.css" />
    <link rel="stylesheet" type="text/css" href="https://github.com/bwithd/sphinx-material/blob/main/sphinx_material/sphinx_material/static/stylesheets/application.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/contentui.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Database Recovery Guide" href="CCP4i2_DB_Recovery.html" />
    <link rel="prev" title="Developer Notes" href="index.html" />
  
   

  </head>
  <body dir=ltr
        data-md-color-primary=#005BBB data-md-color-accent=yellow>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="500" height="500" viewBox="0 0 500 500" id="__gitlab"><path fill="currentColor" d="M93.667 473.347l90.684-279.097H2.983l90.684 279.097z" transform="translate(156.198 1.16)"/><path fill="currentColor" d="M221.333 473.345L130.649 194.25H3.557l217.776 279.095z" transform="translate(28.531 1.16)" opacity=".7"/><path fill="currentColor" d="M32 195.155L4.441 279.97a18.773 18.773 0 0 0 6.821 20.99l238.514 173.29L32 195.155z" transform="translate(.089 .256)" opacity=".5"/><path fill="currentColor" d="M2.667-84.844h127.092L75.14-252.942c-2.811-8.649-15.047-8.649-17.856 0L2.667-84.844z" transform="translate(29.422 280.256)"/><path fill="currentColor" d="M2.667 473.345L93.351 194.25h127.092L2.667 473.345z" transform="translate(247.198 1.16)" opacity=".7"/><path fill="currentColor" d="M221.334 195.155l27.559 84.815a18.772 18.772 0 0 1-6.821 20.99L3.557 474.25l217.777-279.095z" transform="translate(246.307 .256)" opacity=".5"/><path fill="currentColor" d="M130.667-84.844H3.575l54.618-168.098c2.811-8.649 15.047-8.649 17.856 0l54.618 168.098z" transform="translate(336.974 280.256)"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#developers/run_guide" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../index.html" title="CCP4i2  documentation"
           class="md-header-nav__button md-logo">
          
            &nbsp;
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">CCP4i2  documentation</span>
          <span class="md-header-nav__topic"> Developers Guide to Working with CCP4i2 </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" action="../search.html" method="get" name="search">
      <input type="text" class="md-search__input" name="q" placeholder="Search"
             autocapitalize="off" autocomplete="off" spellcheck="false"
             data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>

      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            <a href="https://gitlab.com/ccp4i2/rstdocs" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__gitlab" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    
  </div>
</a>
          </div>
        </div>
      
      
  
  <script src="../_static/javascripts/version_dropdown.js"></script>
  <script>
    var json_loc = "../"versions.json"",
        target_loc = "../../",
        text = "Versions";
    $( document ).ready( add_version_dropdown(json_loc, target_loc, text));
  </script>
  

    </div>
  </nav>
</header>

  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
          <li class="md-tabs__item"><a href="../index.html" class="md-tabs__link">CCP4i2  documentation</a></li>
          <li class="md-tabs__item"><a href="index.html" class="md-tabs__link">Developer Notes</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../index.html" title="CCP4i2 documentation" class="md-nav__button md-logo">
      
        <img src="../_static/" alt=" logo" width="48" height="48">
      
    </a>
    <a href="../index.html"
       title="CCP4i2 documentation">CCP4i2  documentation</a>
  </label>
    <div class="md-nav__source">
      <a href="https://gitlab.com/ccp4i2/rstdocs" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__gitlab" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    
  </div>
</a>
    </div>
  
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#developers-run-guide--page-root" class="md-nav__link">Developers Guide to Working with CCP4i2</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#location-of-ccp4i2" class="md-nav__link">Location of CCP4i2</a>
        </li>
        <li class="md-nav__item"><a href="#quick-guide-to-checking-out-ccp4i2" class="md-nav__link">Quick Guide to Checking Out ccp4i2</a>
        </li>
        <li class="md-nav__item"><a href="#for-example" class="md-nav__link">For Example</a>
        </li>
        <li class="md-nav__item"><a href="#the-pre-release-branch" class="md-nav__link">The Pre-release Branch</a>
        </li>
        <li class="md-nav__item"><a href="#bzr-a-very-brief-introduction" class="md-nav__link">Bzr - A Very Brief Introduction</a>
        </li></ul>
            </nav>
        </li>
    
<li class="md-nav__item"><a class="md-nav__extra_link" href="../_sources/developers/run_guide.rst.txt">Show Source</a> </li>

<li id="searchbox" class="md-nav__item"></li>

  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  <section id="developers-guide-to-working-with-ccp4i2">
<h1 id="developers-run-guide--page-root">Developers Guide to Working with CCP4i2<a class="headerlink" href="#developers-run-guide--page-root" title="Permalink to this heading">¶</a></h1>
<p>This is a short introductory guide, intended to help developers get started with the basics of working with CCP4i2. It will cover how to checkout and run different versions of CCP4i2, and the basic structure of CCP4i2.</p>
<section id="location-of-ccp4i2">
<h2 id="location-of-ccp4i2">Location of CCP4i2<a class="headerlink" href="#location-of-ccp4i2" title="Permalink to this heading">¶</a></h2>
<p>Assuming you already have an installation of CCP4 it should be straightforward to find the ccp4i2 code. You will find it in the share directory as shown below (CCP4 is the installation base directory in this case)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>CCP4
 ├── ccp4-7.1
 │    ├── &lt;Files&gt;
 │    ├── include
 │    ├── lib
 │    ├── libexec
 │    └── share
 │         ├── &lt;Various other folders&gt;
 │         └── ccp4i2
 │
 └──install.log
</pre></div>
</div>
<p>When you check out ccp4i2 from one the repositories (currently using bzr), what you check out will be, is this part of the release (what’s in the ccp4i2 directory) - of course this will not be exactly the same in the majority of cases.</p>
</section>
<section id="quick-guide-to-checking-out-ccp4i2">
<h2 id="quick-guide-to-checking-out-ccp4i2">Quick Guide to Checking Out ccp4i2<a class="headerlink" href="#quick-guide-to-checking-out-ccp4i2" title="Permalink to this heading">¶</a></h2>
<p>The main development branch is the one that users will be most likely interested in. This branch can be checked out using :-</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bzr</span> <span class="n">checkout</span> <span class="n">bzr</span><span class="o">+</span><span class="n">ssh</span><span class="p">:</span><span class="o">//&lt;</span><span class="n">username</span><span class="o">&gt;</span><span class="nd">@oisin</span><span class="o">.</span><span class="n">rc</span><span class="o">-</span><span class="n">harwell</span><span class="o">.</span><span class="n">ac</span><span class="o">.</span><span class="n">uk</span><span class="o">/</span><span class="n">scmrepos</span><span class="o">/</span><span class="n">bzr</span><span class="o">/</span><span class="n">ccp4i2</span><span class="o">/</span><span class="n">devel</span><span class="o">/</span> <span class="n">ccp4i2</span><span class="o">-</span><span class="n">devel</span>
</pre></div>
</div>
<p>This command will checkout the latest version of ccp4i2 (the development version) into the directory <strong>ccp4i2-devel</strong>. For example, if done in share this will result in :-</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>└── share
     ├── &lt;Various other folders&gt;
     ├── ccp4i2
     └── ccp4i2-devel
</pre></div>
</div>
<p>The version here in ccp4i2-devel is the checked out devel version of ccp4i2, the folder ccp4i2 contains your original version (from the release) - note the folder ccp4i2 is the one that will be picked up. You can re-name folders (be careful if you do this), or you can create a soft link (using ln -s) to switch between versions; note there could potentially be dependencies on updated code that is not in the version of CCP4 you are using (something to keep in mind - it’s situational).</p>
<p>nb.You will need an account on oisin (&amp; access to i2) to use bzr to obtain ccp4i2 (contact the core ccp4 team), and &lt;username&gt; will be what you use for oisin.</p>
</section>
<section id="for-example">
<h2 id="for-example">For Example<a class="headerlink" href="#for-example" title="Permalink to this heading">¶</a></h2>
<p>For a linux based system :-</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">CCP4</span><span class="o">/</span><span class="n">ccp4</span><span class="o">-</span><span class="mf">7.1</span><span class="o">/</span><span class="n">share</span><span class="o">/</span>
<span class="n">mv</span> <span class="n">ccp4i2</span> <span class="n">ccp4i2</span><span class="o">-</span><span class="n">orig7114</span>
<span class="n">bzr</span> <span class="n">checkout</span> <span class="n">bzr</span><span class="o">+</span><span class="n">ssh</span><span class="p">:</span><span class="o">//&lt;</span><span class="n">username</span><span class="o">&gt;</span><span class="nd">@oisin</span><span class="o">.</span><span class="n">rc</span><span class="o">-</span><span class="n">harwell</span><span class="o">.</span><span class="n">ac</span><span class="o">.</span><span class="n">uk</span><span class="o">/</span><span class="n">scmrepos</span><span class="o">/</span><span class="n">bzr</span><span class="o">/</span><span class="n">ccp4i2</span><span class="o">/</span><span class="n">devel</span><span class="o">/</span> <span class="n">ccp4i2</span><span class="o">-</span><span class="n">devel</span>
<span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="n">ccp4i2</span><span class="o">-</span><span class="n">devel</span> <span class="n">ccp4i2</span>
</pre></div>
</div>
<p>This moves the original version of i2 to <em>ccp4i2-orig7114</em>, checks out the new version into the folder <em>ccp4i2-devel</em> and soft-links to it so the new version is picked up when you run ccp4i2. This is shown below:-</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>└── share
     ├── &lt;Various other folders&gt;
     ├── ccp4i2
     ├── ccp4i2-orig7114
     └── ccp4i2-devel
</pre></div>
</div>
<p>Where <em>ccp4i2</em> is now a softlink. Note that you can bring ccp4i2-devel up to date with what is in the devel bzr branch by using the command :-</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bzr</span> <span class="n">update</span>
</pre></div>
</div>
<p>This command should be run in the folder <em>ccp4i2-devel</em></p>
</section>
<section id="the-pre-release-branch">
<h2 id="the-pre-release-branch">The Pre-release Branch<a class="headerlink" href="#the-pre-release-branch" title="Permalink to this heading">¶</a></h2>
<p>There is also a pre-release branch which can be checked out using :-</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bzr</span> <span class="n">checkout</span> <span class="n">bzr</span><span class="o">+</span><span class="n">ssh</span><span class="p">:</span><span class="o">//</span><span class="n">stevenkj</span><span class="nd">@oisin</span><span class="o">.</span><span class="n">rc</span><span class="o">-</span><span class="n">harwell</span><span class="o">.</span><span class="n">ac</span><span class="o">.</span><span class="n">uk</span><span class="o">/</span><span class="n">scmrepos</span><span class="o">/</span><span class="n">bzr</span><span class="o">/</span><span class="n">ccp4i2</span><span class="o">/</span><span class="k">for</span><span class="o">-</span><span class="n">release</span><span class="o">/</span> <span class="n">ccp4i2</span><span class="o">-</span><span class="n">forel</span>
</pre></div>
</div>
<p>(this command will put the checked out version into the folder <em>ccp4i2-forel</em>). The for-release branch contains the version of the code that is <strong>intended</strong> for release, which is designated with various tags - these indicate the expected CCP4 release version. The a,b,c,etc. in the tags indicates various incremental updates - bug fixes, late additions etc.</p>
</section>
<section id="bzr-a-very-brief-introduction">
<h2 id="bzr-a-very-brief-introduction">Bzr - A Very Brief Introduction<a class="headerlink" href="#bzr-a-very-brief-introduction" title="Permalink to this heading">¶</a></h2>
<p>This is a very quick guide to using <strong>bzr</strong>, which is the distributed repository system used for ccp4i2. It is strongly recommend that you familiarise youself with bzr before using it; there are guides available on the web which you should go through.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bzr</span> <span class="n">checkout</span> <span class="o">--</span><span class="n">revision</span><span class="o">=</span><span class="mi">6453</span> <span class="o">&lt;</span><span class="n">location</span> <span class="n">of</span> <span class="n">repository</span><span class="o">/</span><span class="n">branch</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">local</span> <span class="n">folder</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>This is as described above, but the example here also shows how to checkout a specific numbered version of ccp4i2.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bzr</span> <span class="n">update</span>
</pre></div>
</div>
<p>Updates the local copy to the latest version stored in the repository (ie. get changes people have made since you either, last typed this or checked out the code).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bzr</span> <span class="n">qlog</span>
</pre></div>
</div>
<p>Shows the various code commits people have made (this is the graphical version, you can also use the standard command <strong>bzr log</strong>). Do this in the checked out folder.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bzr</span> <span class="n">qdiff</span>
</pre></div>
</div>
<p>Shows the difference between the code you have in the local folder and what is in the repository/branch. Again, this should be done in the checked out folder. Note again, there is a non-graphical version <strong>bzr diff</strong>.</p>
<p>Before using the <strong>qlog</strong> and <strong>qdiff</strong> you may need to install <strong>qbzr</strong> (recommended - the commands below are for Ubuntu):-</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">update</span>
<span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">qbzr</span>
</pre></div>
</div>
</section>
</section>


          </article>
        </div>
      </div>
    </main>
  </div>
  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="index.html" title="Developer Notes"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> Previous </span> Developer Notes </span>
              </div>
            </a>
          
          
            <a href="CCP4i2_DB_Recovery.html" title="Database Recovery Guide"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> Next </span> Database Recovery Guide </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
          <div class="md-footer-copyright__highlight">
              &#169; Copyright 2020, CCP4.
              
          </div>
            Created using
            <a href="http://www.sphinx-doc.org/">Sphinx</a> 5.2.2.
             and
            <a href="https://github.com/bashtage/sphinx-material/">Material for
              Sphinx</a>
        </div>
      </div>
    </div>
  </footer>
  <script src="../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
  </body>
</html>