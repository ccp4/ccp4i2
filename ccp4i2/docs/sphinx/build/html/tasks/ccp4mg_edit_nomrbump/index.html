
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="#00020a">
  <script src="../../_static/javascripts/modernizr.js"></script>
  
  
  
    <title>CCP4MG Edit Search Model &#8212; CCP4i2  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/material.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/contentui.css" />
    <link rel="stylesheet" type="text/css" href="https://github.com/bwithd/sphinx-material/blob/main/sphinx_material/sphinx_material/static/stylesheets/application.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/contentui.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Truncate Search Model" href="../chainsaw/index.html" />
    <link rel="prev" title="SAD phasing with Phaser" href="../phaser_EP_LLG/index.html" />
  
   

  </head>
  <body dir=ltr
        data-md-color-primary=#005BBB data-md-color-accent=yellow>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="500" height="500" viewBox="0 0 500 500" id="__gitlab"><path fill="currentColor" d="M93.667 473.347l90.684-279.097H2.983l90.684 279.097z" transform="translate(156.198 1.16)"/><path fill="currentColor" d="M221.333 473.345L130.649 194.25H3.557l217.776 279.095z" transform="translate(28.531 1.16)" opacity=".7"/><path fill="currentColor" d="M32 195.155L4.441 279.97a18.773 18.773 0 0 0 6.821 20.99l238.514 173.29L32 195.155z" transform="translate(.089 .256)" opacity=".5"/><path fill="currentColor" d="M2.667-84.844h127.092L75.14-252.942c-2.811-8.649-15.047-8.649-17.856 0L2.667-84.844z" transform="translate(29.422 280.256)"/><path fill="currentColor" d="M2.667 473.345L93.351 194.25h127.092L2.667 473.345z" transform="translate(247.198 1.16)" opacity=".7"/><path fill="currentColor" d="M221.334 195.155l27.559 84.815a18.772 18.772 0 0 1-6.821 20.99L3.557 474.25l217.777-279.095z" transform="translate(246.307 .256)" opacity=".5"/><path fill="currentColor" d="M130.667-84.844H3.575l54.618-168.098c2.811-8.649 15.047-8.649 17.856 0l54.618 168.098z" transform="translate(336.974 280.256)"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#tasks/ccp4mg_edit_nomrbump/index" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../index.html" title="CCP4i2  documentation"
           class="md-header-nav__button md-logo">
          
            &nbsp;
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">CCP4i2  documentation</span>
          <span class="md-header-nav__topic"> CCP4MG Edit Search Model </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" action="../../search.html" method="get" name="search">
      <input type="text" class="md-search__input" name="q" placeholder="Search"
             autocapitalize="off" autocomplete="off" spellcheck="false"
             data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>

      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            <a href="https://gitlab.com/ccp4i2/rstdocs" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__gitlab" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    
  </div>
</a>
          </div>
        </div>
      
      
  
  <script src="../../_static/javascripts/version_dropdown.js"></script>
  <script>
    var json_loc = "../../"versions.json"",
        target_loc = "../../../",
        text = "Versions";
    $( document ).ready( add_version_dropdown(json_loc, target_loc, text));
  </script>
  

    </div>
  </nav>
</header>

  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
          <li class="md-tabs__item"><a href="../../index.html" class="md-tabs__link">CCP4i2  documentation</a></li>
          <li class="md-tabs__item"><a href="../index.html" class="md-tabs__link">CCP4i2 Task Documentation</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../../index.html" title="CCP4i2 documentation" class="md-nav__button md-logo">
      
        <img src="../../_static/" alt=" logo" width="48" height="48">
      
    </a>
    <a href="../../index.html"
       title="CCP4i2 documentation">CCP4i2  documentation</a>
  </label>
    <div class="md-nav__source">
      <a href="https://gitlab.com/ccp4i2/rstdocs" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__gitlab" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    
  </div>
</a>
    </div>
  
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#tasks-ccp4mg-edit-nomrbump-index--page-root" class="md-nav__link">CCP4MG Edit Search Model</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#input" class="md-nav__link">Input</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#the-ccp4mg-session" class="md-nav__link">The CCP4MG session</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#mr-bump" class="md-nav__link">Mr Bump</a>
        </li>
        <li class="md-nav__item"><a href="#results" class="md-nav__link">Results</a>
        </li></ul>
            </nav>
        </li>
    
<li class="md-nav__item"><a class="md-nav__extra_link" href="../../_sources/tasks/ccp4mg_edit_nomrbump/index.rst.txt">Show Source</a> </li>

<li id="searchbox" class="md-nav__item"></li>

  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  <section id="ccp4mg-edit-search-model">
<h1 id="tasks-ccp4mg-edit-nomrbump-index--page-root">CCP4MG Edit Search Model<a class="headerlink" href="#tasks-ccp4mg-edit-nomrbump-index--page-root" title="Permalink to this heading">¶</a></h1>
<blockquote>
<div><p>The “Interactive selection of MR model components -CCP4mg” and
“Interactive model preparation - CCP4mg and MrBUMP” tasks are methods
for visually preparing molecular replacement search models.</p>
<p><img alt="image1" src="../../_images/ccp4mg_edit_search_model_11.png"/>
In the simplest case <em>(“Interactive selection of MR model components
-CCP4mg”)</em>, CCP4MG is started with a structure to load specified in
the task input. CCP4MG may then be used to select a subset of atoms
from the loaded structure and then save these to the CCP4i2 database.
Once the CCP4MG session is finished CCP4i2 will present a gallery of
the structures which have been saved. The atom selection may be done
using any of CCP4MG’s selection tools:- simple menu selections,
Selection Browser, Sequence Viewer. The user has full control of
which atoms are in the selections to be saved. <a class="reference external" href="http://www.ccp4.ac.uk/MG/">The CCP4MG
documentation</a> should be consulted for
further information.</p>
<p>More sophisticated model preparations may be done by performing a
BLAST search on a sequence within CCP4MG. CCP4MG’s sequence viewer
allows one to perform a BLAST search on a sequence which has been
loaded into the program explicitly or on the sequence of a loaded
coordinate file. CCP4MG presents a table of results from the BLAST
search which lists the BLAST scores along with the relevant PDB
files. A selection of the PDB files can be downloaded and loaded in
CCP4MG using this table. Then the newly loaded PDB files can be used
as in the simple case above: Subsets of atoms are selected and saved
to the CCP4i2 database.</p>
<p>Even more powerfully, CCP4MG may be used to run MrBUMP <em>(“Interactive
model preparation - CCP4mg and MrBUMP”)</em> to find molecular
replacement search models. A coordinate file or just a sequence
loaded into CCP4MG may be sent to MrBUMP. MrBUMP uses phmmer with a
70% non-reduntant search set to identify homologous structures,
prunes the structures with Scultor and then aligns them using Gesamt.
The pruned and aligned structures are then loaded into CCP4MG. The
user may then select various sets of atoms from the loaded models and
save them as an ensemble for use in a molecular replacement
calculation.</p>
</div></blockquote>
<section id="input">
<h2 id="input">Input<a class="headerlink" href="#input" title="Permalink to this heading">¶</a></h2>
<blockquote>
<div><p>The input data is an atomic model or a sequence file.</p>
</div></blockquote>
<section id="the-ccp4mg-session">
<h3 id="the-ccp4mg-session">The CCP4MG session<a class="headerlink" href="#the-ccp4mg-session" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p><img alt="image2" src="../../_images/ccp4mg_edit_search_model_31.png"/>
The third figure opposite shows CCP4MG after a sequence has been
loaded and how to submit the sequence to the EBI BLASTP service to
run the blast search.</p>
<p><img alt="image3" src="../../_images/ccp4mg_edit_search_model_41.png"/>
The next figure shows the appearence of CCP4MG when the BLAST job is
finished. The user has selected a subset of the files. Clicking
“Download the selected files” button will download the PDB files and
load them into CCP4MG. After this, the user can select whatever atoms
are required and then save them to the CCP4i2 database.</p>
<p><img alt="image4" src="../../_images/ccp4mg_edit_search_model_51.png"/>
The final figure show CCP4MG with all “A” chains of the loaded PDB
files superposed. The user is saving the “A” chain of 1GYU to the
CCP4i2 database. This final is the important one whether one starts
the whole process with a PDB file, or sequence followed by
BLAST/MrBump.</p>
</div></blockquote>
</section>
</section>
<section id="mr-bump">
<h2 id="mr-bump">Mr Bump<a class="headerlink" href="#mr-bump" title="Permalink to this heading">¶</a></h2>
<blockquote>
<div><p>Starting with version 2.10.5 of CCP4MG bundled with CCP4MG, parts
of the MrBUMP molecular replacement pipeline may be run from the
program. CCP4MG may be used to run MrBUMP to find molecular
replacement search models. A coordinate file or just a sequence
loaded into CCP4MG may be sent to MrBUMP. MrBUMP uses phmmer with
a 70% non-reduntant search set to identify homologous structures,
prunes the structures with Scultor and then aligns them using
Gesamt. The pruned and aligned structures are then loaded into
CCP4MG. The user may then select various sets of atoms from the
loaded models and save them as an ensemble for use in a molecular
replacement calculation.</p>
<div class="docutils container">
<p>The general scheme for using MrBUMP in CCP4MG is:</p>
<ol class="arabic simple">
<li><p>Load a structure or more usually a sequence into CCP4MG</p></li>
<li><p>Open sequence viewer</p></li>
<li><p>Click on gear-wheel icon just left of sequence and select
“Run mrbump to find search models”</p></li>
<li><p>Select atoms to display in usual ways using Display Table or
Sequence Viewer. Hide any display objects which contain
atoms not wanted in molecular replacement model</p></li>
<li><p>Click on <em>File-&gt;Save all visible to ccp4i2 database</em> to save
a molecular replacement ensemble.</p></li>
<li><p>Use the saved file in molecular replacement program of your
choice.</p></li>
</ol>
</div>
<p><img alt="image5" src="../../_images/ccp4mg_edit_search_model_mrbump_11.png"/>
Firstly a ccp4mg_edit_search_model task is started with a sequence
specified as the input data.</p>
<p><img alt="image6" src="../../_images/ccp4mg_edit_search_model_mrbump_21.png"/>
CCP4MG opens up with the Sequence Viewer open. Clicking on the
gear wheel beside the sequence gives an option to run Mr Bump to
find search models.</p>
<p><img alt="image7" src="../../_images/ccp4mg_edit_search_model_mrbump_31.png"/>
MrBUMP has used phmmer with a 70% non-reduntant search set to
identify homologous structures, pruned the structures with
Scultor, aligned them using Gesamt. The pruned and aligned
structures have been loaded into CCP4MG. The user should then use
whatever atom selection tools are desired, including the Sequence
Viewer. The visible atoms should constitute the required molecular
replacement search ensemble.</p>
<p><img alt="image8" src="../../_images/ccp4mg_edit_search_model_mrbump_41.png"/>
When happy, save the visible atoms to the ccp4i2 database, with
<em>File-&gt;Save all visible to ccp4i2 database</em>. When the CCP4MG
session is finished the search model will be an output file for
the CCP4i2 task.</p>
</div></blockquote>
</section>
<section id="results">
<h2 id="results">Results<a class="headerlink" href="#results" title="Permalink to this heading">¶</a></h2>
<blockquote>
<div><p>The results tab presents a gallery of the structures saved to the
CCP4i2 database during the CCP4MG session. These may be viewed in
Coot or CCP4MG again.</p>
</div></blockquote>
</section>
</section>


          </article>
        </div>
      </div>
    </main>
  </div>
  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="../phaser_EP_LLG/index.html" title="SAD phasing with Phaser"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> Previous </span> SAD phasing with Phaser </span>
              </div>
            </a>
          
          
            <a href="../chainsaw/index.html" title="Truncate Search Model"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> Next </span> Truncate Search Model </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
          <div class="md-footer-copyright__highlight">
              &#169; Copyright 2020, CCP4.
              
          </div>
            Created using
            <a href="http://www.sphinx-doc.org/">Sphinx</a> 5.2.2.
             and
            <a href="https://github.com/bashtage/sphinx-material/">Material for
              Sphinx</a>
        </div>
      </div>
    </div>
  </footer>
  <script src="../../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
  </body>
</html>