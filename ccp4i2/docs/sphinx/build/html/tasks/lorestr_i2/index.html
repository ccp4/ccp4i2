
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="#00020a">
  <script src="../../_static/javascripts/modernizr.js"></script>
  
  
  
    <title>Low Resolution Structure Refinement Pipeline &#8212; CCP4i2  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/material.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/contentui.css" />
    <link rel="stylesheet" type="text/css" href="https://github.com/bwithd/sphinx-material/blob/main/sphinx_material/sphinx_material/static/stylesheets/application.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/contentui.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Make Ligand Coordinate and Restraint Dictionaries with Acedrg" href="../LidiaAcedrgNew/index.html" />
    <link rel="prev" title="TLS" href="../tls/index.html" />
  
   

  </head>
  <body dir=ltr
        data-md-color-primary=#005BBB data-md-color-accent=yellow>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="500" height="500" viewBox="0 0 500 500" id="__gitlab"><path fill="currentColor" d="M93.667 473.347l90.684-279.097H2.983l90.684 279.097z" transform="translate(156.198 1.16)"/><path fill="currentColor" d="M221.333 473.345L130.649 194.25H3.557l217.776 279.095z" transform="translate(28.531 1.16)" opacity=".7"/><path fill="currentColor" d="M32 195.155L4.441 279.97a18.773 18.773 0 0 0 6.821 20.99l238.514 173.29L32 195.155z" transform="translate(.089 .256)" opacity=".5"/><path fill="currentColor" d="M2.667-84.844h127.092L75.14-252.942c-2.811-8.649-15.047-8.649-17.856 0L2.667-84.844z" transform="translate(29.422 280.256)"/><path fill="currentColor" d="M2.667 473.345L93.351 194.25h127.092L2.667 473.345z" transform="translate(247.198 1.16)" opacity=".7"/><path fill="currentColor" d="M221.334 195.155l27.559 84.815a18.772 18.772 0 0 1-6.821 20.99L3.557 474.25l217.777-279.095z" transform="translate(246.307 .256)" opacity=".5"/><path fill="currentColor" d="M130.667-84.844H3.575l54.618-168.098c2.811-8.649 15.047-8.649 17.856 0l54.618 168.098z" transform="translate(336.974 280.256)"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#tasks/lorestr_i2/index" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../index.html" title="CCP4i2  documentation"
           class="md-header-nav__button md-logo">
          
            &nbsp;
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">CCP4i2  documentation</span>
          <span class="md-header-nav__topic"> Low Resolution Structure Refinement Pipeline </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" action="../../search.html" method="get" name="search">
      <input type="text" class="md-search__input" name="q" placeholder="Search"
             autocapitalize="off" autocomplete="off" spellcheck="false"
             data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>

      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            <a href="https://gitlab.com/ccp4i2/rstdocs" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__gitlab" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    
  </div>
</a>
          </div>
        </div>
      
      
  
  <script src="../../_static/javascripts/version_dropdown.js"></script>
  <script>
    var json_loc = "../../"versions.json"",
        target_loc = "../../../",
        text = "Versions";
    $( document ).ready( add_version_dropdown(json_loc, target_loc, text));
  </script>
  

    </div>
  </nav>
</header>

  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
          <li class="md-tabs__item"><a href="../../index.html" class="md-tabs__link">CCP4i2  documentation</a></li>
          <li class="md-tabs__item"><a href="../index.html" class="md-tabs__link">CCP4i2 Task Documentation</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../../index.html" title="CCP4i2 documentation" class="md-nav__button md-logo">
      
        <img src="../../_static/" alt=" logo" width="48" height="48">
      
    </a>
    <a href="../../index.html"
       title="CCP4i2 documentation">CCP4i2  documentation</a>
  </label>
    <div class="md-nav__source">
      <a href="https://gitlab.com/ccp4i2/rstdocs" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__gitlab" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    
  </div>
</a>
    </div>
  
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#tasks-lorestr-i2-index--page-root" class="md-nav__link">Low Resolution Structure Refinement Pipeline</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#input" class="md-nav__link">Input</a>
        </li>
        <li class="md-nav__item"><a href="#options" class="md-nav__link">Options</a>
        </li>
        <li class="md-nav__item"><a href="#advanced-options" class="md-nav__link">Advanced Options</a>
        </li>
        <li class="md-nav__item"><a href="#results" class="md-nav__link">Results</a>
        </li></ul>
            </nav>
        </li>
    
<li class="md-nav__item"><a class="md-nav__extra_link" href="../../_sources/tasks/lorestr_i2/index.rst.txt">Show Source</a> </li>

<li id="searchbox" class="md-nav__item"></li>

  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  <section id="low-resolution-structure-refinement-pipeline">
<h1 id="tasks-lorestr-i2-index--page-root">Low Resolution Structure Refinement Pipeline<a class="headerlink" href="#tasks-lorestr-i2-index--page-root" title="Permalink to this heading">¶</a></h1>
<blockquote>
<div><p>Low Resolution Structure Refinement Pipeline (LORESTR) is a fully
automated and easy-to-use tool.</p>
<p>The minimal input required is a PDB file containing the current model
(the target structure) and corresponding diffraction data. In
automatic mode, LORESTR extracts the sequences of all chains present
in the PDB file and runs a BLAST search over the whole Protein Data
Bank (internet connection required). It then downloads up to ten
homologues that share at least 75% sequence identity and cover at
least 75% of the protein chain (only homologues satisfying these
criteria proved to improve refinement). LORESTR specifies for
ProSMART hydrogen bond restraints to be used for any chains for which
there are no close homologues found. Users can also manually supply
any number of homologous structures.</p>
<p>After downloading homologues, the pipeline analyses the input data in
order to determine the set of most appropriate refinement parameters.
It checks whether the data are derived from a twinned crystal, in
which case automated handling of twinning in REFMAC5 is enabled. The
pipeline also tries standard and least-squares scaling options,
selecting the one that performs better (gives lower Rfree) and
figures out solvent parameters.</p>
<p>The pipeline then generates a number of refinement protocols,
depending on the number of available homologous chains. If no
homologues are supplied and no homologues are found during the BLAST
search, the pipeline will just test the two protocols that do not
require availability of external homologues, i.e. hydrogen bond
restraints and jelly-body restraints. For all protocols for which
external homologues are available, the pipeline runs one round of
REFMAC5 refinement using the external restraints, before then
executing a second round of refinement using only jelly-body
restraints in order to allow the structure to relax into its new
conformation (as this approach proved to be optimal in the vast
majority of our test cases).</p>
<p>The pipeline supports multitasking and can run several jobs in
parallel, should the user so wish. After running all jobs, LORESTR
selects the best-performing protocol according to a quality indicator
that depends on both Rfree and the MolProbity score, or just simply
Rfree if MolProbity is not available from a local PHENIX installation
(phenix.molprobity shall be in the $PATH for automated assesment of
the structure quality).</p>
</div></blockquote>
<section id="input">
<h2 id="input">Input<a class="headerlink" href="#input" title="Permalink to this heading">¶</a></h2>
<blockquote>
<div><p><img alt="image1" src="../../_images/lorestr_i2_task_1.png"/></p>
<p>LORESTR input is simple: a target model for refinement and
experimental data, including Rfree.</p>
<p>Also, you may provide optional file with TLS coefficients and any
number of homologous structures for restraints generation. Please
note, that if you are using auto mode (which is recommended default),
the pipeline will automatically download homologous structures from
the PDB, so you don’t need to provide them manually. However, you can
use auto mode and manually supplied homologous structures
simultaneously (for instance, when you have both unpublished
structures of your protein and homologues deposited to the PDB).</p>
</div></blockquote>
</section>
<section id="options">
<h2 id="options">Options<a class="headerlink" href="#options" title="Permalink to this heading">¶</a></h2>
<blockquote>
<div><p><img alt="image2" src="../../_images/lorestr_i2_task_2.png"/></p>
<p><strong>Auto mode:</strong> recommended default. In this mode pipeline extracts
the sequences of all chains present in the PDB file, runs a BLAST
search over the whole Protein Data Bank and downloads appropriate
homologues for restraints generation. Internet connection is required
for this functionality.</p>
<p><strong>Generate retraints for DNA/RNA chains:</strong> please tick this box if
you have DNA or RNA in your model</p>
<p><strong>Number of CPUs to use:</strong> please specify number of processors for
parallel execution of several refinement protocols.</p>
<p><strong>Run 100-200 cycles of jelly body refinement:</strong> please tick this box
if your model is straight after molecular replacements and has not
been refined. The pipeline will figure out initial R-factors and
depending on them decide how many jelly body cycles to run to improve
fit of your model (may take up to several hours)</p>
</div></blockquote>
</section>
<section id="advanced-options">
<h2 id="advanced-options">Advanced Options<a class="headerlink" href="#advanced-options" title="Permalink to this heading">¶</a></h2>
<blockquote>
<div><p><img alt="image3" src="../../_images/lorestr_i2_task_3.png"/></p>
<p><strong>Normally you don’t need to change the default values.</strong></p>
<p><strong>Save disk space by removing excessive ProSMART output:</strong> for large
structures, ProSMART output could be up to a hundred or two hundred
megabytes. As the pipeline runs up to ten (or more) protocols, that
can easily go up to several GB of data per single pipeline run. By
checking this box (default option is ON) you ask pipeline to remove
all excessive ProSMART output (detailed results of structures
analysis, scripts for visualisation programs, etc) and leave only
restraints used for refinement. If you are interested in reusing
ProSMART analysis data, uncheck this box.</p>
<p><strong>Download homologues with resolution better than X:</strong> a simple
treshold for downloading homologues in the pipeline “Auto” mode.
Structures with resolution lower than this treshold will be ignored
for restraints generation.</p>
<p><strong>Use up to X homologues for restraints:</strong> maximal number of
homologues for analysis. In our tests we spotted that by increasing
number of homologues used for simultaneous restrants generation,
efficiency of the refinement drops down. Default value delivers best
performance in our tests.</p>
<p><strong>Use up to X chains to generate restraints:</strong> specifies maximal
number of homologous chains used for restraints generation. As
pipeline will generate protocols with 1, 2, … X homologous chains
per target chain, changing this value will change number of
refinement protocols tried by the pipeline. Default value delivered
best performance in our tests and we don’t advice to change it.</p>
</div></blockquote>
</section>
<section id="results">
<h2 id="results">Results<a class="headerlink" href="#results" title="Permalink to this heading">¶</a></h2>
<blockquote>
<div><p><img alt="image4" src="../../_images/lorestr_i2_report_1.png"/></p>
<p>Average run of the Low Resolution Refinement Pipeline takes from
15 minutes to several hours depending on your hardware, size of
your structure and number of CPUs available for parallel execution
of multiple refinement protocols.</p>
<p>During the run, top bar of the Results page shows current status
of the pipeline. For instance, on this screenshot LORESTR is
analysing the data; it already determined twinning status of the
data and is still estimating best scaling method and solvent
parameters.</p>
<p><img alt="image5" src="../../_images/lorestr_i2_report_2.png"/></p>
<p>Once input analysis is over and refinement protocols are
generated, the pipeline starts to execute refinements. It can run
several refinements in parallel if user specified multiple CPUs in
the options. On this screenshot you can see typical report page in
the middle of the run. First refinement protocol has been finished
and the table was populated with corresponding values of resulting
R-factors, etc. Other protocols are running, few protocols are
waiting for the execution (number of CPUs was less than the total
number of refinement protocols).</p>
<p><img alt="image6" src="../../_images/lorestr_i2_report_3.png"/></p>
<p>After running all refinement protocols, LORESTR selects the
best-performing protocol according to a quality indicator that
depends on both Rfree and the MolProbity score percentile
(Kovalevskiy et al., 2016).</p>
<p>The pipeline reports final statistics on all protocols as a
scatter plot with Rfree and MolProbity score percentile on the
axes. Quality of the structure before and after refinement is
reported.</p>
</div></blockquote>
</section>
</section>


          </article>
        </div>
      </div>
    </main>
  </div>
  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="../tls/index.html" title="TLS"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> Previous </span> TLS </span>
              </div>
            </a>
          
          
            <a href="../LidiaAcedrgNew/index.html" title="Make Ligand Coordinate and Restraint Dictionaries with Acedrg"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> Next </span> Make Ligand Coordinate and Restraint Dictionaries with Acedrg </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
          <div class="md-footer-copyright__highlight">
              &#169; Copyright 2020, CCP4.
              
          </div>
            Created using
            <a href="http://www.sphinx-doc.org/">Sphinx</a> 5.2.2.
             and
            <a href="https://github.com/bashtage/sphinx-material/">Material for
              Sphinx</a>
        </div>
      </div>
    </div>
  </footer>
  <script src="../../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
  </body>
</html>